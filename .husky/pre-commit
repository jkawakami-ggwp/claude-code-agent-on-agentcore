#!/usr/bin/env sh

echo "ğŸ” Running linter..."
pnpm run agent:lint || {
  echo "âŒ ãƒªãƒ³ã‚¿ãƒ¼ã‚¨ãƒ©ãƒ¼: ã‚³ãƒ¼ãƒ‰ã«å•é¡ŒãŒã‚ã‚Šã¾ã™"
  echo "ä¿®æ­£ã™ã‚‹ã«ã¯: pnpm run agent:lint:fix ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„"
  exit 1
}

echo "âœ¨ Running formatter check..."
pnpm run agent:format:check || {
  echo "âŒ ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚¨ãƒ©ãƒ¼: ãƒ•ã‚¡ã‚¤ãƒ«ãŒãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“"
  echo "ä¿®æ­£ã™ã‚‹ã«ã¯: pnpm run agent:format ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„"
  exit 1
}

echo "ğŸ§ª Running tests..."
pnpm run agent:test --passWithNoTests || {
  echo "âŒ ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã—ã¾ã—ãŸ"
  echo "ä¿®æ­£ã™ã‚‹ã«ã¯: ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ç¢ºèªã—ã€å•é¡Œã‚’ä¿®æ­£ã—ã¦ãã ã•ã„"
  exit 1
}

echo "âœ… All checks passed!"
